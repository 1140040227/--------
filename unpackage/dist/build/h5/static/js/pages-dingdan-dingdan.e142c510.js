(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dingdan-dingdan"],{1901:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".dingdan[data-v-fd0556f4]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.address-box[data-v-fd0556f4]{box-sizing:border-box;padding:10px;display:-webkit-box;display:-webkit-flex;display:flex;position:relative;background-color:#fff;margin-bottom:10px}.address-box-left[data-v-fd0556f4]{display:-webkit-box;display:-webkit-flex;display:flex;width:80%}.address-box-left-icon[data-v-fd0556f4]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;width:14%}.address-box-left-right[data-v-fd0556f4]{box-sizing:border-box;padding:10px 5px;width:86%}.address-box-right-userInfo[data-v-fd0556f4]{font-size:17px}.address-box-right-userInfo>uni-text[data-v-fd0556f4]:nth-of-type(2){margin-left:20px}.address-box-right-address[data-v-fd0556f4]{font-size:15px;color:#999}.address-box-right[data-v-fd0556f4]{width:20%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:20px;color:#aaa}.dosh[data-v-fd0556f4]{\n\t/* border: 1px solid red; */width:100%;position:absolute;bottom:0;height:3px}.goods-box[data-v-fd0556f4]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;background-color:#fff;box-sizing:border-box;padding:5px 10px;height:13vh}.goods-box-left[data-v-fd0556f4]{width:25%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.goods-box-left>uni-image[data-v-fd0556f4]{width:95%;height:95%}.goods-box-right[data-v-fd0556f4]{width:70%}.goods-box-right-title[data-v-fd0556f4]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:30px}.goods-box-right-skus[data-v-fd0556f4]{line-height:30px;font-size:14px;color:#999}.goods-box-right-info[data-v-fd0556f4]{line-height:30px}.goods-box-right-info>uni-text[data-v-fd0556f4]:nth-of-type(2){margin-left:10px;font-size:14px;color:#999}.dingdan-box[data-v-fd0556f4]{width:100%;box-sizing:border-box;margin-top:10px;background-color:#fff}.dingdan-item[data-v-fd0556f4]{\n\t/* border: 1px solid red; */font-size:15px;box-sizing:border-box;padding:15px 10px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:#999;box-shadow:0 1px 1px #d3d3d3}.dingdan-item>uni-text[data-v-fd0556f4]:nth-of-type(2){color:#000}.dingdan-item:nth-of-type(2)>uni-text[data-v-fd0556f4]:nth-of-type(2){color:red}.dingdan-item>uni-input[data-v-fd0556f4]{width:85%;color:#000;font-size:15px}.footer-box[data-v-fd0556f4]{width:100%;position:fixed;bottom:0;background-color:#fff;height:7vh;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;box-sizing:border-box;padding:0 0 0 10px;box-shadow:0 0 5px 1px #d3d3d3}.footer-box-left[data-v-fd0556f4]{font-size:17px}.footer-box-left>uni-text[data-v-fd0556f4]:nth-of-type(2){color:red;margin-left:10px}.dingdan-submit[data-v-fd0556f4]{height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:40%;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;background-color:#fa436a;color:#fff}",""]),t.exports=e},"599d":function(t,e,i){"use strict";i("c740"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{address_list:[],address_info:{},payGoods:[],dingdanPrice:0,delPrice:0,selectedAddress:null,dingdan_info:{address_id:null,sku_id:null,quantity:null,remark:""},sku_id:null,quantity:1}},onLoad:function(t){if(uni.startPullDownRefresh({}),t.add_index&&1==t.page||uni.getStorageSync("dingdan-page"))return this.getCartGoods(),this.getAddress(t.add_index);0!=t.page&&0!=uni.getStorageSync("dingdan-page")||(t.add_index?this.getAddress(t.add_index):this.getAddress(),this.sku_id=t.sku_id||uni.getStorageSync("dingdan-id"),this.quantity=t.quantity||uni.getStorageSync("dingdan-num"),this.getGoods()),this.getAddress()},onPullDownRefresh:function(){this.getAddress(),setTimeout((function(){uni.stopPullDownRefresh({})}),500)},onUnload:function(){uni.removeStorageSync("address-change"),uni.removeStorageSync("dingdan-id"),uni.removeStorageSync("dingdan-num")},methods:{getAddress:function(t){var e=this;this.$http.get("user.address").then((function(i){if(0!=i.data.length){var n=i.data.findIndex((function(t){return 1==t.is_default}));""!=uni.getStorageSync("address-change")||"string"!=typeof uni.getStorageSync("address-change")?e.address_info=i.data[uni.getStorageSync("address-change")]:e.address_info="number"==typeof(t-0)&&"undefined"!=typeof t?i.data[t]:n>-1&&"undefined"!=n?i.data[n]:i.data[0],e.dingdan_info.address_id=e.address_info.id}else e.$refs.lxmessage.show({type:"warning",msg:"您还没有地址,请先添加地址",direction:"center",time:1e3}),setTimeout((function(){uni.navigateTo({url:"../address/address"})}),1e3)}))},gotoChangeAddress:function(){uni.navigateTo({url:"../address/address?mode=1"})},getCartGoods:function(){var t=uni.getStorageSync("cart-list");for(var e in t)1==t[e].is_selected&&this.payGoods.push(t[e]);for(var i=0;i<this.payGoods.length;i++)this.dingdanPrice+=this.payGoods[i].sku.price*this.payGoods[i].quantity},submitDingdan:function(){var t=this;console.log(this.dingdan_info),this.$http.post("order.create",{address_id:this.dingdan_info.address_id,sku_id:this.dingdan_info.sku_id,quantity:this.dingdan_info.quantity}).then((function(e){t.$refs.lxmessage.show({type:"success",msg:"添加订单成功",direction:"center",time:1e3}),setTimeout((function(){uni.navigateTo({url:"../pay/pay?page=0"})}),1e3)}))},getGoods:function(){var t=this;this.$http.get("cart.list",{sku_id:this.sku_id,quantity:this.quantity}).then((function(e){console.log(e),t.payGoods.push(e.data[0]),t.dingdan_info.sku_id=e.data[0].sku.id,t.dingdan_info.quantity=e.data[0].quantity;for(var i=0;i<t.payGoods.length;i++)t.dingdanPrice+=t.payGoods[i].sku.price*t.payGoods[i].quantity}))}}};e.default=n},"68d7":function(t,e,i){"use strict";var n=i("a972"),d=i.n(n);d.a},"7e66":function(t,e,i){"use strict";i.r(e);var n=i("599d"),d=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=d.a},"9d60":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"dingdan"},[i("lx-message",{ref:"lxmessage"}),i("v-uni-view",{staticClass:"address-box",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoChangeAddress.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"address-box-left"},[i("v-uni-view",{staticClass:"address-box-left-icon"},[i("lx-icons",{attrs:{type:"location",size:"25px",color:"gray"}})],1),i("v-uni-view",{staticClass:"address-box-left-right"},[i("v-uni-view",{staticClass:"address-box-right-userInfo"},[i("v-uni-text",[t._v(t._s(t.address_info.contactor_name))]),i("v-uni-text",[t._v(t._s(t.address_info.phone))])],1),i("v-uni-view",{staticClass:"address-box-right-address"},[t._v(t._s(t.address_info.address)+"  "+t._s(t.address_info.street))])],1)],1),i("v-uni-view",{staticClass:"address-box-right"},[i("v-uni-text",[t._v(">")])],1),i("v-uni-image",{staticClass:"dosh",attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAu4AAAAFCAYAAAAaAWmiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Rjk3RjkzMjM2NzMxMTFFOUI4RkU4OEZGMDcxQzgzOEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Rjk3RjkzMjQ2NzMxMTFFOUI4RkU4OEZGMDcxQzgzOEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGOTdGOTMyMTY3MzExMUU5QjhGRTg4RkYwNzFDODM4RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGOTdGOTMyMjY3MzExMUU5QjhGRTg4RkYwNzFDODM4RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PrEOZlQAAAiuSURBVHjazJp7bFvV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",mode:""}})],1),t._l(t.payGoods,(function(e){return i("v-uni-view",{key:e.product.id,staticClass:"goods-box"},[i("v-uni-view",{staticClass:"goods-box-left"},[i("v-uni-image",{attrs:{src:e.product.image[0]}})],1),i("v-uni-view",{staticClass:"goods-box-right"},[i("v-uni-view",{staticClass:"goods-box-right-title"},[t._v(t._s(e.product.title))]),i("v-uni-view",{staticClass:"goods-box-right-skus"},[t._v(t._s(e.sku.value))]),i("v-uni-view",{staticClass:"goods-box-right-info"},[i("v-uni-text",[t._v("￥"+t._s(e.sku.price))]),i("v-uni-text",[t._v("x "+t._s(e.quantity))])],1)],1)],1)})),i("v-uni-view",{staticClass:"dingdan-box"},[i("v-uni-view",{staticClass:"dingdan-item"},[i("v-uni-text",{staticClass:"dingdan-left"},[t._v("商品金额")]),i("v-uni-text",[t._v("￥ "+t._s(t.dingdanPrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"dingdan-item"},[i("v-uni-text",[t._v("优惠金额")]),i("v-uni-text",[t._v("- ￥ "+t._s(t.delPrice))])],1),i("v-uni-view",{staticClass:"dingdan-item"},[i("v-uni-text",[t._v("运费")]),i("v-uni-text",[t._v("￥ 免运费")])],1),i("v-uni-view",{staticClass:"dingdan-item"},[i("v-uni-text",[t._v("备注")]),i("v-uni-input",{attrs:{type:"text",placeholder:"请填写备注信息","placeholder-style":"color:#999"},model:{value:t.address_info.remark,callback:function(e){t.$set(t.address_info,"remark",e)},expression:"address_info.remark"}})],1)],1),i("v-uni-view",{staticClass:"footer-box"},[i("v-uni-view",{staticClass:"footer-box-left"},[i("v-uni-text",[t._v("实付款")]),i("v-uni-text",[t._v("￥ "+t._s((t.dingdanPrice-t.delPrice).toFixed(2)))])],1),i("v-uni-view",{staticClass:"dingdan-submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitDingdan.apply(void 0,arguments)}}},[t._v("提交订单")])],1)],2)},s=[]},a972:function(t,e,i){var n=i("1901");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var d=i("4f06").default;d("3df8cd6c",n,!0,{sourceMap:!1,shadowMode:!1})},cc68:function(t,e,i){"use strict";i.r(e);var n=i("9d60"),d=i("7e66");for(var s in d)"default"!==s&&function(t){i.d(e,t,(function(){return d[t]}))}(s);i("68d7");var a,o=i("f0c5"),r=Object(o["a"])(d["default"],n["b"],n["c"],!1,null,"fd0556f4",null,!1,n["a"],a);e["default"]=r.exports}}]);